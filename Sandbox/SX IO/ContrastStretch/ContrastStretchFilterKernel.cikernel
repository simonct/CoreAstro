
kernel vec4 coreImageKernel(sampler image, float minval, float maxval)
{
	vec4 p = sample(image, samplerCoord(image));

	float range = maxval - minval;
	float scale = 1.0 / range;

	p.r = (p.r - minval) * scale;
	p.g = (p.g - minval) * scale;
	p.b = (p.b - minval) * scale;

	return p;
}
